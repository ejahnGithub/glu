//
// RUN: gluc --print-astgen %s | FileCheck -v %s
//

// CHECK:ModuleDecl {{0x[0-9a-f]+}} <{{.*}}func.glu, line:1:1>
// CHECK-NEXT:  -->Path: {{.*}}func.glu
// CHECK-NEXT:  -->Import Name: ASTPrinter/func
// CHECK-NEXT:  -->Decls:
// CHECK-NEXT:    FunctionDecl {{0x[0-9a-f]+}} <line:35:1>
// CHECK-NEXT:      -->Name: main
// CHECK-NEXT:      -->Type:
// CHECK-NEXT:      -->Attributes:
// CHECK-NEXT:        AttributeList {{0x[0-9a-f]+}} <line:35:1>
// CHECK-NEXT:          -->Attributes:
// CHECK-NEXT:      -->Params:
// CHECK-NEXT:      -->Body:
// CHECK-NEXT:        CompoundStmt {{0x[0-9a-f]+}} <line:35:13>
// CHECK-NEXT:          -->Stmts:
// CHECK-NEXT:            DeclStmt {{0x[0-9a-f]+}} <line:36:9>
// CHECK-NEXT:              -->Decl:
// CHECK-NEXT:                LetDecl {{0x[0-9a-f]+}} <line:36:9>
// CHECK-NEXT:                  -->Name: x
// CHECK-NEXT:                  -->Type:
// CHECK-NEXT:                  -->Value:
// CHECK-NEXT:                    LiteralExpr {{0x[0-9a-f]+}} <line:36:18>
// CHECK-NEXT:                      -->Integer: 42
// CHECK-NEXT:            DeclStmt {{0x[0-9a-f]+}} <line:37:9>
// CHECK-NEXT:              -->Decl:
// CHECK-NEXT:                VarDecl {{0x[0-9a-f]+}} <line:37:9>
// CHECK-NEXT:                  -->Name: y
// CHECK-NEXT:                  -->Type:
// CHECK-NEXT:                  -->Value:
// CHECK-NEXT:                    LiteralExpr {{0x[0-9a-f]+}} <line:37:19>
// CHECK-NEXT:                      -->Boolean: true
func main() {
    let x: Int = 42;
    var y: Bool = true;
}

// CHECK-NEXT:    FunctionDecl {{0x[0-9a-f]+}} <line:52:1>
// CHECK-NEXT:      -->Name: foo
// CHECK-NEXT:      -->Type:
// CHECK-NEXT:      -->Attributes:
// CHECK-NEXT:        AttributeList {{0x[0-9a-f]+}} <line:52:1>
// CHECK-NEXT:          -->Attributes:
// CHECK-NEXT:      -->Params:
// CHECK-NEXT:        ParamDecl {{0x[0-9a-f]+}} <line:52:10>
// CHECK-NEXT:          -->param :
// CHECK-NEXT:      -->Body:
// CHECK-NEXT:        CompoundStmt {{0x[0-9a-f]+}} <line:52:23>
// CHECK-NEXT:          -->Stmts:
func foo(param: Bool) {}

// CHECK-NEXT:    FunctionDecl {{0x[0-9a-f]+}} <line:80:1>
// CHECK-NEXT:      -->Name: add
// CHECK-NEXT:      -->Type:
// CHECK-NEXT:      -->Attributes:
// CHECK-NEXT:        AttributeList {{0x[0-9a-f]+}} <line:80:1>
// CHECK-NEXT:          -->Attributes:
// CHECK-NEXT:      -->Params:
// CHECK-NEXT:        ParamDecl {{0x[0-9a-f]+}} <line:80:10>
// CHECK-NEXT:          -->a :
// CHECK-NEXT:        ParamDecl {{0x[0-9a-f]+}} <line:80:18>
// CHECK-NEXT:          -->b :
// CHECK-NEXT:      -->Body:
// CHECK-NEXT:        CompoundStmt {{0x[0-9a-f]+}} <line:80:33>
// CHECK-NEXT:          -->Stmts:
// CHECK-NEXT:            ReturnStmt {{0x[0-9a-f]+}} <line:81:5>
// CHECK-NEXT:              -->ReturnExpr:
// CHECK-NEXT:                BinaryOpExpr {{0x[0-9a-f]+}} <line:81:14>
// CHECK-NEXT:                  -->LeftOperand:
// CHECK-NEXT:                    RefExpr {{0x[0-9a-f]+}} <line:81:12>
// CHECK-NEXT:                      -->Reference to: a
// CHECK-NEXT:                  -->Operator:
// CHECK-NEXT:                    RefExpr {{0x[0-9a-f]+}} <line:81:14>
// CHECK-NEXT:                      -->Reference to: +
// CHECK-NEXT:                  -->RightOperand:
// CHECK-NEXT:                    RefExpr {{0x[0-9a-f]+}} <line:81:16>
// CHECK-NEXT:                      -->Reference to: b
func add(a: Int, b: Int) -> Int {
    return a + b;
}
