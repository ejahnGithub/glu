//
// RUN: split-file %s %t
// RUN: gluc -c %t/libname.glu -o %t/libname.o
// RUN: gluc -c %t/importWithSelector.glu -o %t/importWithSelector.o
// RUN: clang -o %t/importWithSelector %t/libname.o %t/importWithSelector.o
// RUN: %t/importWithSelector | FileCheck -v %t/importWithSelector.glu
// RUN: gluc -c %t/importAsNamespace.glu -o %t/importAsNamespace.o
// RUN: clang -o %t/importAsNamespace %t/libname.o %t/importAsNamespace.o
// RUN: %t/importAsNamespace | FileCheck -v %t/importAsNamespace.glu
// RUN: gluc -c %t/importMultiple.glu -o %t/importMultiple.o
// RUN: clang -o %t/importMultiple %t/libname.o %t/importMultiple.o
// RUN: %t/importMultiple | FileCheck -v %t/importMultiple.glu
// RUN: gluc -c %t/importStar.glu -o %t/importStar.o
// RUN: clang -o %t/importStar %t/libname.o %t/importStar.o
// RUN: %t/importStar | FileCheck -v %t/importStar.glu
//

//--- libname.glu

public func getName() -> *Char {
    return "Emil";
}

public func getSchool() -> *Char {
    return "Epitech";
}

//--- importWithSelector.glu

import libname::getName;

@no_mangling func puts(s: *Char);

// CHECK: Emil
func main() -> Int {
    puts(getName());
    return 0;
}

//--- importAsNamespace.glu

import libname;

@no_mangling func puts(s: *Char);

// CHECK: Emil
// CHECK: Epitech
func main() -> Int {
    puts(libname::getName());
    puts(libname::getSchool());
    return 0;
}

//--- importMultiple.glu

import libname::{getName, getSchool};

@no_mangling func puts(s: *Char);

// CHECK: Emil
// CHECK: Epitech
func main() -> Int {
    puts(getName());
    puts(getSchool());
    return 0;
}

//--- importStar.glu

import libname::*;

@no_mangling func puts(s: *Char);

// CHECK: Emil
// CHECK: Epitech
func main() -> Int {
    puts(getName());
    puts(getSchool());
    return 0;
}
