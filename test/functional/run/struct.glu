// TODO: Remove the unsupported line when the feature is supported

//
// RUN: gluc -c %s -o %t.o && clang -o %t %t.o && %t | FileCheck -v %s
//

func puts(s: String);

struct MyStruct {
    first: String = "firstDefault",
    second: String = "secondDefault"
}

func testStruct(s: MyStruct) -> Void {
    puts(s.first);
    puts(s.second);
}

// CHECK: firstDefault
// CHECK: secondDefault
// CHECK: firstInit
// CHECK: secondDefault
// CHECK: secondInit
// CHECK: thirdInit
func main() -> Int {
    let default: MyStruct = {};
    let init: MyStruct = {"firstInit"};
    let secondInit: MyStruct = {"secondInit", "thirdInit"};

    testStruct(default);
    testStruct(init);
    testStruct(secondInit);
    return 0;
}
