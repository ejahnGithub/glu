//
// RUN: gluc -c %s -o %t.o && clang -o %t %t.o && %t | FileCheck -v %s
//

func puts(s: String);

struct MyStruct {
    first: String = "firstDefault",
    second: String = "secondDefault"
}

func testStruct(s: MyStruct) -> Void {
    puts(s.first);
    puts(s.second);
}

func main() -> Int {
    // CHECK: firstDefault
    // CHECK: secondDefault
    let default: MyStruct = {};
    testStruct(default);

    // CHECK: firstInit
    // CHECK: secondDefault
    let init: MyStruct = {"firstInit"};
    testStruct(init);

    // CHECK: secondInit
    // CHECK: thirdInit
    let secondInit: MyStruct = {"secondInit", "thirdInit"};
    testStruct(secondInit);

    return 0;
}
